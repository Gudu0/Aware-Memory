{
  "associatedLayout": "scn_game",
  "name": "ext_processing",
  "events": [
    {
      "type": "BuiltinCommonInstructions::ForEach",
      "object": "grp_items",
      "conditions": [],
      "actions": [],
      "events": [
        {
          "colorB": 228,
          "colorG": 176,
          "colorR": 74,
          "creationTime": 0,
          "folded": true,
          "name": "Sell Check",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionNP"
                  },
                  "parameters": [
                    "grp_items",
                    "obj_sell",
                    "",
                    "",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetNumberVariable"
                  },
                  "parameters": [
                    "PlayerData.Money",
                    "+",
                    "grp_items.value"
                  ]
                },
                {
                  "type": {
                    "value": "SetNumberVariable"
                  },
                  "parameters": [
                    "PlayerData.ItemCount",
                    "-",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "SetNumberObjectVariable"
                  },
                  "parameters": [
                    "obj_sell",
                    "earned",
                    "+",
                    "grp_items.value"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BooleanVariable"
                      },
                      "parameters": [
                        "PlayerData.EnableSound",
                        "True",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PlaySound"
                      },
                      "parameters": [
                        "",
                        "assets\\sounds\\sell.wav",
                        "",
                        "",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Delete"
                      },
                      "parameters": [
                        "grp_items",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "LinkedObjects::PickObjectsLinkedTo"
                      },
                      "parameters": [
                        "",
                        "txt_sellpad_label",
                        "obj_sell",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "TextContainerCapability::TextContainerBehavior::SetValue"
                      },
                      "parameters": [
                        "txt_sellpad_label",
                        "Text",
                        "=",
                        "ToString(floorTo(obj_sell.earned,1)) + \"$\""
                      ]
                    },
                    {
                      "type": {
                        "value": "MettreX"
                      },
                      "parameters": [
                        "txt_sellpad_label",
                        "=",
                        "txt_money.X() + txt_money.Width() - txt_sellpad_label.Width()"
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": []
        },
        {
          "colorB": 228,
          "colorG": 176,
          "colorR": 74,
          "creationTime": 0,
          "folded": true,
          "name": "Polish Check",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionNP"
                  },
                  "parameters": [
                    "grp_items",
                    "obj_polisher",
                    "",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "BooleanObjectVariable"
                  },
                  "parameters": [
                    "grp_items",
                    "polished",
                    "False",
                    ""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::Name"
                      },
                      "parameters": [
                        "grp_items",
                        "Animation",
                        "=",
                        "\"ingot\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetBooleanObjectVariable"
                      },
                      "parameters": [
                        "grp_items",
                        "polished",
                        "True",
                        "1.5"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetNumberObjectVariable"
                      },
                      "parameters": [
                        "grp_items",
                        "value",
                        "*",
                        "1.5"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::Name"
                      },
                      "parameters": [
                        "grp_items",
                        "Animation",
                        "=",
                        "\"plate\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetBooleanObjectVariable"
                      },
                      "parameters": [
                        "grp_items",
                        "polished",
                        "True",
                        "1.5"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetNumberObjectVariable"
                      },
                      "parameters": [
                        "grp_items",
                        "value",
                        "*",
                        "1.2"
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": []
        },
        {
          "colorB": 228,
          "colorG": 176,
          "colorR": 74,
          "creationTime": 0,
          "folded": true,
          "name": "Crush Check",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionNP"
                  },
                  "parameters": [
                    "grp_items",
                    "obj_crusher",
                    "",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "BooleanObjectVariable"
                  },
                  "parameters": [
                    "grp_items",
                    "crushed",
                    "False",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::Name"
                  },
                  "parameters": [
                    "grp_items",
                    "Animation",
                    "=",
                    "\"ore\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetNumberObjectVariable"
                  },
                  "parameters": [
                    "grp_items",
                    "value",
                    "*",
                    "1.2"
                  ]
                },
                {
                  "type": {
                    "value": "SetBooleanObjectVariable"
                  },
                  "parameters": [
                    "grp_items",
                    "crushed",
                    "True",
                    "1.5"
                  ]
                },
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::SetName"
                  },
                  "parameters": [
                    "grp_items",
                    "Animation",
                    "=",
                    "\"dust\""
                  ]
                }
              ]
            }
          ],
          "parameters": []
        },
        {
          "colorB": 228,
          "colorG": 176,
          "colorR": 74,
          "creationTime": 0,
          "folded": true,
          "name": "Smelt Check",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionNP"
                  },
                  "parameters": [
                    "grp_items",
                    "obj_smelter",
                    "",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "BooleanObjectVariable"
                  },
                  "parameters": [
                    "grp_items",
                    "smelted",
                    "False",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ChangeSprite"
                  },
                  "parameters": [
                    "obj_smelter",
                    "=",
                    "1"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::Name"
                      },
                      "parameters": [
                        "grp_items",
                        "Animation",
                        "=",
                        "\"ore\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetNumberObjectVariable"
                      },
                      "parameters": [
                        "grp_items",
                        "value",
                        "*",
                        "1.5"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetBooleanObjectVariable"
                      },
                      "parameters": [
                        "grp_items",
                        "smelted",
                        "True",
                        "1.5"
                      ]
                    },
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::SetName"
                      },
                      "parameters": [
                        "grp_items",
                        "Animation",
                        "=",
                        "\"ingot\""
                      ]
                    },
                    {
                      "type": {
                        "value": "Wait"
                      },
                      "parameters": [
                        "0.01"
                      ]
                    },
                    {
                      "type": {
                        "value": "ChangeSprite"
                      },
                      "parameters": [
                        "obj_smelter",
                        "=",
                        "0"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::Name"
                      },
                      "parameters": [
                        "grp_items",
                        "Animation",
                        "=",
                        "\"dust\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetNumberObjectVariable"
                      },
                      "parameters": [
                        "grp_items",
                        "value",
                        "*",
                        "1.8"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetBooleanObjectVariable"
                      },
                      "parameters": [
                        "grp_items",
                        "smelted",
                        "True",
                        "1.5"
                      ]
                    },
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::SetName"
                      },
                      "parameters": [
                        "grp_items",
                        "Animation",
                        "=",
                        "\"ingot\""
                      ]
                    },
                    {
                      "type": {
                        "value": "Wait"
                      },
                      "parameters": [
                        "0.01"
                      ]
                    },
                    {
                      "type": {
                        "value": "ChangeSprite"
                      },
                      "parameters": [
                        "obj_smelter",
                        "=",
                        "0"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BooleanVariable"
                      },
                      "parameters": [
                        "PlayerData.EnableSound",
                        "True",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PlaySound"
                      },
                      "parameters": [
                        "",
                        "assets\\sounds\\smelt.wav",
                        "no",
                        "20",
                        ""
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": []
        },
        {
          "colorB": 228,
          "colorG": 176,
          "colorR": 74,
          "creationTime": 0,
          "folded": true,
          "name": "Press Check",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionNP"
                  },
                  "parameters": [
                    "grp_items",
                    "obj_press",
                    "",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "BooleanObjectVariable"
                  },
                  "parameters": [
                    "grp_items",
                    "pressed",
                    "False",
                    ""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::Name"
                      },
                      "parameters": [
                        "grp_items",
                        "Animation",
                        "=",
                        "\"ore\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetNumberObjectVariable"
                      },
                      "parameters": [
                        "grp_items",
                        "value",
                        "*",
                        "1.4"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetBooleanObjectVariable"
                      },
                      "parameters": [
                        "grp_items",
                        "pressed",
                        "True",
                        "1.5"
                      ]
                    },
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::SetName"
                      },
                      "parameters": [
                        "grp_items",
                        "Animation",
                        "=",
                        "\"dust\""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::Name"
                      },
                      "parameters": [
                        "grp_items",
                        "Animation",
                        "=",
                        "\"ingot\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetNumberObjectVariable"
                      },
                      "parameters": [
                        "grp_items",
                        "value",
                        "*",
                        "2"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetBooleanObjectVariable"
                      },
                      "parameters": [
                        "grp_items",
                        "pressed",
                        "True",
                        "1.5"
                      ]
                    },
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::SetName"
                      },
                      "parameters": [
                        "grp_items",
                        "Animation",
                        "=",
                        "\"ingot\""
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": []
        }
      ]
    }
  ]
}